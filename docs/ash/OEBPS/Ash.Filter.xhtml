<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Ash.Filter - ash v3.5.33</title>
    <meta name="generator" content="ExDoc v0.38.2" />
    <link type="text/css" rel="stylesheet" href="dist/epub-elixir-FNUUKFP7.css" />
    <script src="dist/epub-4WIP524F.js"></script>

  </head>
  <body class="content-inner">

    <h1 id="content">
Ash.Filter 
    </h1>


      <section id="moduledoc" class="docstring">
<p>The representation of a filter in Ash.</p><h2 id="module-security-concerns">Security Concerns</h2><p>Do not pass user input directly to <a href="Ash.Query.xhtml#filter/2"><code class="inline">Ash.Query.filter/2</code></a>, it will not be sanitised. Instead use
<a href="#parse_input/2"><code class="inline">Ash.Filter.parse_input/2</code></a> or <a href="Ash.Query.xhtml#filter_input/2"><code class="inline">Ash.Query.filter_input/2</code></a>.</p><p>Refer to those functions for more information on how to safely work with user input.</p><h2 id="module-writing-a-filter">Writing a filter</h2><h3 id="module-built-in-predicates">Built In Predicates</h3><ul><li><code class="inline">is_nil</code></li><li><code class="inline">==</code></li><li><code class="inline">!=</code></li><li><code class="inline">in</code></li><li><code class="inline">&lt;</code></li><li><code class="inline">&gt;</code></li><li><code class="inline">&lt;=</code></li><li><code class="inline">&gt;=</code></li><li><code class="inline">&amp;&amp;</code></li><li><code class="inline">||</code></li><li><code class="inline">&lt;&gt;</code></li><li><code class="inline">/</code></li><li><code class="inline">-</code></li><li><code class="inline">*</code></li><li><code class="inline">+</code></li><li><code class="inline">equals</code> (alias
for <code class="inline">==</code>)</li><li><code class="inline">not_equals</code> (alias
for <code class="inline">!=</code>)</li><li><code class="inline">gt</code> (alias
for <code class="inline">&gt;</code>)</li><li><code class="inline">lt</code> (alias
for <code class="inline">&lt;</code>)</li><li><code class="inline">gte</code> (alias
for <code class="inline">&gt;=</code>)</li><li><code class="inline">lte</code> (alias
for <code class="inline">&lt;=</code>)</li><li><code class="inline">eq</code> (alias
for <code class="inline">==</code>)</li><li><code class="inline">not_eq</code> (alias
for <code class="inline">!=</code>)</li><li><code class="inline">less_than</code> (alias
for <code class="inline">&lt;</code>)</li><li><code class="inline">greater_than</code> (alias
for <code class="inline">&gt;</code>)</li><li><code class="inline">less_than_or_equal</code> (alias
for <code class="inline">&lt;=</code>)</li><li><code class="inline">greater_than_or_equal</code> (alias
for <code class="inline">&gt;=</code>)</li><li><code class="inline">and</code> (alias
for <code class="inline">&amp;&amp;</code>)</li><li><code class="inline">or</code> (alias
for <code class="inline">||</code>)</li><li><code class="inline">concat</code> (alias
for <code class="inline">&lt;&gt;</code>)</li><li><code class="inline">div</code> (alias
for <code class="inline">/</code>)</li><li><code class="inline">minus</code> (alias
for <code class="inline">-</code>)</li><li><code class="inline">times</code> (alias
for <code class="inline">*</code>)</li><li><code class="inline">plus</code> (alias
for <code class="inline">+</code>)</li></ul><h3 id="module-booleanexpression-syntax">BooleanExpression syntax</h3><p>The expression syntax ultimately just builds the keyword list style filter,
but with lots of conveniences that would be very annoying to do manually.</p><p>Examples</p><pre><code class="makeup elixir" translate="no"><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="0394232641-1">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="n">name</samp><samp class="w"> </samp><samp class="o">==</samp><samp class="w"> </samp><samp class="s">&quot;Zardoz&quot;</samp><samp class="p" data-group-id="0394232641-1">)</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="0394232641-2">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="n">first_name</samp><samp class="w"> </samp><samp class="o">==</samp><samp class="w"> </samp><samp class="s">&quot;Zar&quot;</samp><samp class="w"> </samp><samp class="ow">and</samp><samp class="w"> </samp><samp class="n">last_name</samp><samp class="w"> </samp><samp class="o">==</samp><samp class="w"> </samp><samp class="s">&quot;Doz&quot;</samp><samp class="p" data-group-id="0394232641-2">)</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="0394232641-3">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="n">first_name</samp><samp class="w"> </samp><samp class="o">==</samp><samp class="w"> </samp><samp class="s">&quot;Zar&quot;</samp><samp class="w"> </samp><samp class="ow">and</samp><samp class="w"> </samp><samp class="n">last_name</samp><samp class="w"> </samp><samp class="ow">in</samp><samp class="w"> </samp><samp class="p" data-group-id="0394232641-4">[</samp><samp class="s">&quot;Doz&quot;</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="s">&quot;Daz&quot;</samp><samp class="p" data-group-id="0394232641-4">]</samp><samp class="w"> </samp><samp class="ow">and</samp><samp class="w"> </samp><samp class="n">high_score</samp><samp class="w"> </samp><samp class="o">&gt;</samp><samp class="w"> </samp><samp class="mi">10</samp><samp class="p" data-group-id="0394232641-3">)</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="0394232641-5">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="n">first_name</samp><samp class="w"> </samp><samp class="o">==</samp><samp class="w"> </samp><samp class="s">&quot;Zar&quot;</samp><samp class="w"> </samp><samp class="ow">or</samp><samp class="w"> </samp><samp class="n">last_name</samp><samp class="w"> </samp><samp class="o">==</samp><samp class="w"> </samp><samp class="s">&quot;Doz&quot;</samp><samp class="w"> </samp><samp class="ow">or</samp><samp class="w"> </samp><samp class="p" data-group-id="0394232641-6">(</samp><samp class="n">high_score</samp><samp class="w"> </samp><samp class="o">&gt;</samp><samp class="w"> </samp><samp class="mi">10</samp><samp class="w"> </samp><samp class="ow">and</samp><samp class="w"> </samp><samp class="n">high_score</samp><samp class="w"> </samp><samp class="o">&lt;</samp><samp class="w"> </samp><samp class="o">-</samp><samp class="mi">10</samp><samp class="p" data-group-id="0394232641-6">)</samp><samp class="p" data-group-id="0394232641-5">)</samp></code></pre><h3 id="module-expressions">Expressions</h3><p>More complex filters can be built using Ash Expressions.</p><p>Examples</p><pre><code class="makeup elixir" translate="no"><samp class="c1"># Filter based on the contents of a string attribute</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="9649452089-1">(</samp><samp class="nc">Helpdesk.Support.Ticket</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="n">contains</samp><samp class="p" data-group-id="9649452089-2">(</samp><samp class="n">subject</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="s">&quot;2&quot;</samp><samp class="p" data-group-id="9649452089-2">)</samp><samp class="p" data-group-id="9649452089-1">)</samp><samp class="w">
</samp><samp class="c1"># Filter based on the attribute of a joined relationship:</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="9649452089-3">(</samp><samp class="nc">Helpdesk.Support.Ticket</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="n">representative</samp><samp class="o">.</samp><samp class="n">name</samp><samp class="w"> </samp><samp class="o">==</samp><samp class="w"> </samp><samp class="o">^</samp><samp class="n">name</samp><samp class="p" data-group-id="9649452089-3">)</samp></code></pre><p>See the <a href="expressions.xhtml">Expressions guide</a>
guide for more information.</p><h3 id="module-keyword-list-syntax">Keyword list syntax</h3><p>A filter is a nested keyword list (with some exceptions, like <code class="inline">true</code> for
everything and <code class="inline">false</code> for nothing).</p><p>The key is the &quot;predicate&quot; (or &quot;condition&quot;) and the value is the parameter.
You can use <code class="inline">and</code> and <code class="inline">or</code> to create nested filters. Data layers can expose
custom predicates. Eventually, you will be able to define your own custom
predicates, which will be a mechanism for you to attach complex filters
supported by the data layer to your queries.</p><p><strong> Important </strong> In a given keyword list, all predicates are considered to be
&quot;ands&quot;. So <code class="inline">[or: [first_name: &quot;Tom&quot;, last_name: &quot;Bombadil&quot;]]</code> doesn't mean
'First name == &quot;tom&quot; or last_name == &quot;bombadil&quot;'. To say that, you want to
provide a list of filters, like so: <code class="inline">[or: [[first_name: &quot;Tom&quot;], [last_name: &quot;Bombadil&quot;]]]</code></p><p>Some example filters:</p><pre><code class="makeup elixir" translate="no"><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="5437313017-1">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-2">[</samp><samp class="ss">name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;Zardoz&quot;</samp><samp class="p" data-group-id="5437313017-2">]</samp><samp class="p" data-group-id="5437313017-1">)</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="5437313017-3">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-4">[</samp><samp class="ss">first_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;Zar&quot;</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">last_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;Doz&quot;</samp><samp class="p" data-group-id="5437313017-4">]</samp><samp class="p" data-group-id="5437313017-3">)</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="5437313017-5">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-6">[</samp><samp class="ss">first_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;Zar&quot;</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">last_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-7">[</samp><samp class="ss">in</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-8">[</samp><samp class="s">&quot;Doz&quot;</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="s">&quot;Daz&quot;</samp><samp class="p" data-group-id="5437313017-8">]</samp><samp class="p" data-group-id="5437313017-7">]</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">high_score</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-9">[</samp><samp class="ss">greater_than</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">10</samp><samp class="p" data-group-id="5437313017-9">]</samp><samp class="p" data-group-id="5437313017-6">]</samp><samp class="p" data-group-id="5437313017-5">)</samp><samp class="w">
</samp><samp class="nc">Ash.Query</samp><samp class="o">.</samp><samp class="n">filter</samp><samp class="p" data-group-id="5437313017-10">(</samp><samp class="n">resource</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-11">[</samp><samp class="ss">or</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-12">[</samp><samp class="w">
  </samp><samp class="p" data-group-id="5437313017-13">[</samp><samp class="ss">first_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;Zar&quot;</samp><samp class="p" data-group-id="5437313017-13">]</samp><samp class="p">,</samp><samp class="w">
  </samp><samp class="p" data-group-id="5437313017-14">[</samp><samp class="ss">last_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;Doz&quot;</samp><samp class="p" data-group-id="5437313017-14">]</samp><samp class="p">,</samp><samp class="w">
  </samp><samp class="p" data-group-id="5437313017-15">[</samp><samp class="ss">or</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-16">[</samp><samp class="w">
    </samp><samp class="p" data-group-id="5437313017-17">[</samp><samp class="ss">high_score</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-18">[</samp><samp class="ss">greater_than</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">10</samp><samp class="p" data-group-id="5437313017-18">]</samp><samp class="p" data-group-id="5437313017-17">]</samp><samp class="p" data-group-id="5437313017-16">]</samp><samp class="p">,</samp><samp class="w">
    </samp><samp class="p" data-group-id="5437313017-19">[</samp><samp class="ss">high_score</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="p" data-group-id="5437313017-20">[</samp><samp class="ss">less_than</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="o">-</samp><samp class="mi">10</samp><samp class="p" data-group-id="5437313017-20">]</samp><samp class="p" data-group-id="5437313017-19">]</samp><samp class="w">
  </samp><samp class="p" data-group-id="5437313017-15">]</samp><samp class="w">
</samp><samp class="p" data-group-id="5437313017-12">]</samp><samp class="p" data-group-id="5437313017-11">]</samp><samp class="p" data-group-id="5437313017-10">)</samp></code></pre><h3 id="module-other-formats">Other formats</h3><p>Maps are also accepted, as are maps with string keys. Technically, a list of
<code class="inline">[{&quot;string_key&quot;, value}]</code> would also work.</p>
      </section>


      <section id="summary" class="details-list">
        <h1 class="section-heading">Summary</h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:t/0" data-no-tooltip="" translate="no">t()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#add_to_filter/6" data-no-tooltip="" translate="no">add_to_filter(base, addition, op \\ :and, aggregates \\ %{}, calculations \\ %{}, context \\ %{})</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#add_to_filter!/6" data-no-tooltip="" translate="no">add_to_filter!(base, addition, op \\ :and, aggregates \\ %{}, calculations \\ %{}, context \\ %{})</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#builtin_functions/0" data-no-tooltip="" translate="no">builtin_functions()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#builtin_operators/0" data-no-tooltip="" translate="no">builtin_operators()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#builtin_predicate_operators/0" data-no-tooltip="" translate="no">builtin_predicate_operators()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#builtins/0" data-no-tooltip="" translate="no">builtins()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#custom_expression/2" data-no-tooltip="" translate="no">custom_expression(name, args)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#do_hydrate_refs/2" data-no-tooltip="" translate="no">do_hydrate_refs(filter, context)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fetch_simple_equality_predicate/2" data-no-tooltip="" translate="no">fetch_simple_equality_predicate(expression, attribute)</a>

      </div>

        <div class="summary-synopsis"><p>Can be used to find a simple equality predicate on an attribute</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find/5" data-no-tooltip="" translate="no">find(expr, pred, ors? \\ true, ands? \\ true, structures? \\ false)</a>

      </div>

        <div class="summary-synopsis"><p>Find an expression inside of a filter that matches the provided predicate</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_simple_equality_predicate/2" data-no-tooltip="" translate="no">find_simple_equality_predicate(expression, attribute)</a>

      </div>

        <div class="summary-synopsis"><p>Can be used to find a simple equality predicate on an attribute</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_value/2" data-no-tooltip="" translate="no">find_value(expr, pred)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#flat_map/2" data-no-tooltip="" translate="no">flat_map(expression, func)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_filter/2" data-no-tooltip="" translate="no">get_filter(resource, id)</a>

      </div>

        <div class="summary-synopsis"><p>Returns a filter statement that would find a single record based on the input.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_function/3" data-no-tooltip="" translate="no">get_function(key, resource, public?)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_operator/1" data-no-tooltip="" translate="no">get_operator(key)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_predicate_function/3" data-no-tooltip="" translate="no">get_predicate_function(key, resource, public?)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#hydrate_refs/2" data-no-tooltip="" translate="no">hydrate_refs(value, context)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_predicates/1" data-no-tooltip="" translate="no">list_predicates(expression)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list_refs/5" data-no-tooltip="" translate="no">list_refs(expression, no_longer_simple? \\ false, in_an_eq? \\ false, expand_calculations? \\ false, expand_get_path? \\ false)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#map/2" data-no-tooltip="" translate="no">map(filter, func)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#move_exprs_to_relationship_path/2" data-no-tooltip="" translate="no">move_exprs_to_relationship_path(refs, path)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#move_to_relationship_path/2" data-no-tooltip="" translate="no">move_to_relationship_path(expression, relationship_path)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse/3" data-no-tooltip="" translate="no">parse(resource, statement, context \\ %{})</a>

      </div>

        <div class="summary-synopsis"><p>Parses a filter statement</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse!/3" data-no-tooltip="" translate="no">parse!(resource, statement, context \\ %{})</a>

      </div>

        <div class="summary-synopsis"><p>Parses a filter statement</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse_input/2" data-no-tooltip="" translate="no">parse_input(resource, statement)</a>

      </div>

        <div class="summary-synopsis"><p>Parses a filter statement, accepting <em>only public attributes/relationships</em> and
honoring field policies &amp; related resource policies, raising on errors.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse_input!/2" data-no-tooltip="" translate="no">parse_input!(resource, statement)</a>

      </div>

        <div class="summary-synopsis"><p>Parses a filter statement, accepting <em>only public attributes/relationships</em> and
honoring field policies &amp; related resource policies, raising on errors.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prefix_refs/2" data-no-tooltip="" translate="no">prefix_refs(expr, path)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#put_at_path/2" data-no-tooltip="" translate="no">put_at_path(value, list)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#relationship_paths/4" data-no-tooltip="" translate="no">relationship_paths(filter_or_expression, include_exists? \\ false, with_refs? \\ false, expand_aggregates? \\ false)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#run_other_data_layer_filters/4" data-no-tooltip="" translate="no">run_other_data_layer_filters(domain, resource, filter, tenant)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#strict_subset_of/2" data-no-tooltip="" translate="no">strict_subset_of(filter, candidate)</a>

      </div>

        <div class="summary-synopsis"><p>Returns true if the second argument is a strict subset (always returns the same or less data) of the first</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#strict_subset_of?/2" data-no-tooltip="" translate="no">strict_subset_of?(filter, candidate)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_simple_filter/2" data-no-tooltip="" translate="no">to_simple_filter(map, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Transform an expression based filter to a simple filter, which is just a list of predicates</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#used_aggregates/3" data-no-tooltip="" translate="no">used_aggregates(filter, relationship_path \\ [], return_refs? \\ false)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#used_calculations/6" data-no-tooltip="" translate="no">used_calculations(filter, resource, relationship_path \\ [], calculations \\ %{}, aggregates \\ %{}, return_refs? \\ false)</a>

      </div>

    </div>

</div>

      </section>


      <section id="types" class="details-list">
        <h1 class="section-heading">Types</h1>
        <div class="types-list">
<section class="detail" id="t:t/0">

  <div class="detail-header">
    <a href="#t:t/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">t()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L219" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> t() :: %Ash.Filter{expression: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(), resource: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>


  </section>
</section>

        </div>
      </section>

      <section id="functions" class="details-list">
        <h1 class="section-heading">Functions</h1>
        <div class="functions-list">
<section class="detail" id="add_to_filter/6">

    <span id="add_to_filter/2"></span>

    <span id="add_to_filter/3"></span>

    <span id="add_to_filter/4"></span>

    <span id="add_to_filter/5"></span>

  <div class="detail-header">
    <a href="#add_to_filter/6" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">add_to_filter(base, addition, op \\ :and, aggregates \\ %{}, calculations \\ %{}, context \\ %{})</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L891" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="add_to_filter!/6">

    <span id="add_to_filter!/2"></span>

    <span id="add_to_filter!/3"></span>

    <span id="add_to_filter!/4"></span>

    <span id="add_to_filter!/5"></span>

  <div class="detail-header">
    <a href="#add_to_filter!/6" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">add_to_filter!(base, addition, op \\ :and, aggregates \\ %{}, calculations \\ %{}, context \\ %{})</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L872" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="builtin_functions/0">

  <div class="detail-header">
    <a href="#builtin_functions/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">builtin_functions()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L222" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="builtin_operators/0">

  <div class="detail-header">
    <a href="#builtin_operators/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">builtin_operators()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L223" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="builtin_predicate_operators/0">

  <div class="detail-header">
    <a href="#builtin_predicate_operators/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">builtin_predicate_operators()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L224" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="builtins/0">

  <div class="detail-header">
    <a href="#builtins/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">builtins()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L221" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="custom_expression/2">

  <div class="detail-header">
    <a href="#custom_expression/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">custom_expression(name, args)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L3516" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="do_hydrate_refs/2">

  <div class="detail-header">
    <a href="#do_hydrate_refs/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">do_hydrate_refs(filter, context)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L3537" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="fetch_simple_equality_predicate/2">

  <div class="detail-header">
    <a href="#fetch_simple_equality_predicate/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fetch_simple_equality_predicate(expression, attribute)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L651" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> fetch_simple_equality_predicate(<a href="Ash.Expr.xhtml#t:t/0">Ash.Expr.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()) :: {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()} | :error</pre>

      </div>

<p>Can be used to find a simple equality predicate on an attribute</p><p>Use this when your attribute is configured with <code class="inline">filterable? :simple_equality</code>, and you want to
to find the value that it is being filtered on with (if any).</p>
  </section>
</section>
<section class="detail" id="find/5">

    <span id="find/2"></span>

    <span id="find/3"></span>

    <span id="find/4"></span>

  <div class="detail-header">
    <a href="#find/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find(expr, pred, ors? \\ true, ands? \\ true, structures? \\ false)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L682" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Find an expression inside of a filter that matches the provided predicate</p>
  </section>
</section>
<section class="detail" id="find_simple_equality_predicate/2">

  <div class="detail-header">
    <a href="#find_simple_equality_predicate/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_simple_equality_predicate(expression, attribute)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L630" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Can be used to find a simple equality predicate on an attribute</p><p>Prefer <a href="#fetch_simple_equality_predicate/2"><code class="inline">fetch_simple_equality_predicate/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="find_value/2">

  <div class="detail-header">
    <a href="#find_value/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_value(expr, pred)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L677" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="flat_map/2">

  <div class="detail-header">
    <a href="#flat_map/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">flat_map(expression, func)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L1291" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="get_filter/2">

  <div class="detail-header">
    <a href="#get_filter/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_filter(resource, id)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L453" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns a filter statement that would find a single record based on the input.</p><p>For example:</p><pre><code class="makeup elixir" translate="no"><samp class="gp unselectable">iex&gt; </samp><samp class="n">get_filter</samp><samp class="p" data-group-id="6412209280-1">(</samp><samp class="nc">MyApp.Post</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="mi">1</samp><samp class="p" data-group-id="6412209280-1">)</samp><samp class="w">
</samp><samp class="p" data-group-id="6412209280-2">{</samp><samp class="ss">:ok</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="p" data-group-id="6412209280-3">%{</samp><samp class="ss">id</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">1</samp><samp class="p" data-group-id="6412209280-3">}</samp><samp class="p" data-group-id="6412209280-2">}</samp><samp class="w"> </samp><samp class="c1">#using primary key</samp><samp class="w">
</samp><samp class="gp unselectable">iex&gt; </samp><samp class="n">get_filter</samp><samp class="p" data-group-id="6412209280-4">(</samp><samp class="nc">MyApp.Post</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">id</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">1</samp><samp class="p" data-group-id="6412209280-4">)</samp><samp class="w">
</samp><samp class="p" data-group-id="6412209280-5">{</samp><samp class="ss">:ok</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="p" data-group-id="6412209280-6">%{</samp><samp class="ss">id</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">1</samp><samp class="p" data-group-id="6412209280-6">}</samp><samp class="p" data-group-id="6412209280-5">}</samp><samp class="w"> </samp><samp class="c1">#using primary key</samp><samp class="w">
</samp><samp class="gp unselectable">iex&gt; </samp><samp class="n">get_filter</samp><samp class="p" data-group-id="6412209280-7">(</samp><samp class="nc">MyApp.Post</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">author_id</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">1</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">publication_id</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">2</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">first_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;fred&quot;</samp><samp class="p" data-group-id="6412209280-7">)</samp><samp class="w">
</samp><samp class="p" data-group-id="6412209280-8">{</samp><samp class="ss">:ok</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="p" data-group-id="6412209280-9">%{</samp><samp class="ss">author_id</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">1</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">publication_id</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="mi">1</samp><samp class="p" data-group-id="6412209280-9">}</samp><samp class="p" data-group-id="6412209280-8">}</samp><samp class="w"> </samp><samp class="c1"># using a unique identity</samp><samp class="w">
</samp><samp class="gp unselectable">iex&gt; </samp><samp class="n">get_filter</samp><samp class="p" data-group-id="6412209280-10">(</samp><samp class="nc">MyApp.Post</samp><samp class="p">,</samp><samp class="w"> </samp><samp class="ss">first_name</samp><samp class="p">:</samp><samp class="w"> </samp><samp class="s">&quot;fred&quot;</samp><samp class="p" data-group-id="6412209280-10">)</samp><samp class="w">
</samp><samp class="ss">:error</samp><samp class="w"> </samp><samp class="c1"># not enough information</samp></code></pre>
  </section>
</section>
<section class="detail" id="get_function/3">

  <div class="detail-header">
    <a href="#get_function/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_function(key, resource, public?)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L4298" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="get_operator/1">

  <div class="detail-header">
    <a href="#get_operator/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_operator(key)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L4331" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="get_predicate_function/3">

  <div class="detail-header">
    <a href="#get_predicate_function/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_predicate_function(key, resource, public?)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L4286" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="hydrate_refs/2">

  <div class="detail-header">
    <a href="#hydrate_refs/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">hydrate_refs(value, context)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L3527" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_predicates/1">

  <div class="detail-header">
    <a href="#list_predicates/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_predicates(expression)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L2456" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="list_refs/5">

    <span id="list_refs/1"></span>

    <span id="list_refs/2"></span>

    <span id="list_refs/3"></span>

    <span id="list_refs/4"></span>

  <div class="detail-header">
    <a href="#list_refs/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">list_refs(expression, no_longer_simple? \\ false, in_an_eq? \\ false, expand_calculations? \\ false, expand_get_path? \\ false)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L2298" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="map/2">

  <div class="detail-header">
    <a href="#map/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">map(filter, func)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L1206" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="move_exprs_to_relationship_path/2">

  <div class="detail-header">
    <a href="#move_exprs_to_relationship_path/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">move_exprs_to_relationship_path(refs, path)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L4026" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="move_to_relationship_path/2">

  <div class="detail-header">
    <a href="#move_to_relationship_path/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">move_to_relationship_path(expression, relationship_path)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L4032" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="parse/3">

    <span id="parse/2"></span>

  <div class="detail-header">
    <a href="#parse/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">parse(resource, statement, context \\ %{})</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L317" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Parses a filter statement</p><p>See the module documentation for more information on the supported formats for filter
statements.</p><h3 id="parse/3-important" class="section-heading"><a href="#parse/3-important" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Important</span></h3><p>If you are trying to validate a filter supplied from an external/untrusted source,
be sure to use <a href="#parse_input/2"><code class="inline">parse_input/2</code></a> instead!</p>
  </section>
</section>
<section class="detail" id="parse!/3">

    <span id="parse!/2"></span>

  <div class="detail-header">
    <a href="#parse!/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">parse!(resource, statement, context \\ %{})</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L294" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Parses a filter statement</p><p>See <a href="#parse/2"><code class="inline">parse/2</code></a> for more</p>
  </section>
</section>
<section class="detail" id="parse_input/2">

  <div class="detail-header">
    <a href="#parse_input/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">parse_input(resource, statement)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L253" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Parses a filter statement, accepting <em>only public attributes/relationships</em> and
honoring field policies &amp; related resource policies, raising on errors.</p><p>See <a href="#parse/2"><code class="inline">parse/2</code></a> for more on filter parsing, and the <a href="policies.xhtml">policies guide</a>
for more on input references.</p>
  </section>
</section>
<section class="detail" id="parse_input!/2">

  <div class="detail-header">
    <a href="#parse_input!/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">parse_input!(resource, statement)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L279" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Parses a filter statement, accepting <em>only public attributes/relationships</em> and
honoring field policies &amp; related resource policies, raising on errors.</p><p>See <a href="#parse_input/2"><code class="inline">parse_input/2</code></a> for more</p>
  </section>
</section>
<section class="detail" id="prefix_refs/2">

  <div class="detail-header">
    <a href="#prefix_refs/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prefix_refs(expr, path)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L1647" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="put_at_path/2">

  <div class="detail-header">
    <a href="#put_at_path/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">put_at_path(value, list)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L869" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="relationship_paths/4">

    <span id="relationship_paths/1"></span>

    <span id="relationship_paths/2"></span>

    <span id="relationship_paths/3"></span>

  <div class="detail-header">
    <a href="#relationship_paths/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">relationship_paths(filter_or_expression, include_exists? \\ false, with_refs? \\ false, expand_aggregates? \\ false)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L1864" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="run_other_data_layer_filters/4">

  <div class="detail-header">
    <a href="#run_other_data_layer_filters/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">run_other_data_layer_filters(domain, resource, filter, tenant)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L1440" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="strict_subset_of/2">

  <div class="detail-header">
    <a href="#strict_subset_of/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">strict_subset_of(filter, candidate)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L938" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Returns true if the second argument is a strict subset (always returns the same or less data) of the first</p>
  </section>
</section>
<section class="detail" id="strict_subset_of?/2">

  <div class="detail-header">
    <a href="#strict_subset_of?/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">strict_subset_of?(filter, candidate)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L950" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="to_simple_filter/2">

    <span id="to_simple_filter/1"></span>

  <div class="detail-header">
    <a href="#to_simple_filter/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_simple_filter(map, opts \\ [])</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L618" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Transform an expression based filter to a simple filter, which is just a list of predicates</p><p>Options:</p><ul><li><code class="inline">:skip_invalid?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If an invalid filter expression is reached that can't be used with a simple filter (like an <code class="inline">or</code> statement, or a non-predicate expression), it will be ignored instead of raising an error. The default value is <code class="inline">false</code>.</li></ul>
  </section>
</section>
<section class="detail" id="used_aggregates/3">

    <span id="used_aggregates/1"></span>

    <span id="used_aggregates/2"></span>

  <div class="detail-header">
    <a href="#used_aggregates/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">used_aggregates(filter, relationship_path \\ [], return_refs? \\ false)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L835" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="used_calculations/6">

    <span id="used_calculations/2"></span>

    <span id="used_calculations/3"></span>

    <span id="used_calculations/4"></span>

    <span id="used_calculations/5"></span>

  <div class="detail-header">
    <a href="#used_calculations/6" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">used_calculations(filter, resource, relationship_path \\ [], calculations \\ %{}, aggregates \\ %{}, return_refs? \\ false)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/filter/filter.ex#L771" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>

        </div>
      </section>


  </body>
</html>
