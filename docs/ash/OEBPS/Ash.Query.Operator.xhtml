<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Ash.Query.Operator - ash v3.5.33</title>
    <meta name="generator" content="ExDoc v0.38.2" />
    <link type="text/css" rel="stylesheet" href="dist/epub-elixir-FNUUKFP7.css" />
    <script src="dist/epub-4WIP524F.js"></script>

  </head>
  <body class="content-inner">

    <h1 id="content">
Ash.Query.Operator <small>behaviour</small>
    </h1>


      <section id="moduledoc" class="docstring">
<p>An operator is a predicate with a <code class="inline">left</code> and a <code class="inline">right</code></p><p>For more information on being a predicate, see <a href="Ash.Filter.Predicate.xhtml"><code class="inline">Ash.Filter.Predicate</code></a>. Most of the complexities
are there. An operator must meet both behaviours.</p>
      </section>


      <section id="summary" class="details-list">
        <h1 class="section-heading">Summary</h1>
<div class="summary-callbacks summary">
  <h2>
    <a href="#callbacks">Callbacks</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:can_return_nil?/1" data-no-tooltip="" translate="no">can_return_nil?(func)</a>

      </div>

        <div class="summary-synopsis"><p>Whether or not the operator can evaluate to nil.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:evaluate/1" data-no-tooltip="" translate="no">evaluate(term)</a>

      </div>

        <div class="summary-synopsis"><p>Evaluates the operator in Elixir</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:evaluate_nil_inputs?/0" data-no-tooltip="" translate="no">evaluate_nil_inputs?()</a>

      </div>

        <div class="summary-synopsis"><p>If <code class="inline">true</code>, will be allowed to evaluate <code class="inline">nil</code> inputs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:new/2" data-no-tooltip="" translate="no">new(term, term)</a>

      </div>

        <div class="summary-synopsis"><p>Create a new predicate. There are various return types possible</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:predicate?/0" data-no-tooltip="" translate="no">predicate?()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:returns/0" data-no-tooltip="" translate="no">returns()</a>

      </div>

        <div class="summary-synopsis"><p>The types that the expression can return. Should be one entry in the list for each entry in <code class="inline">types</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:to_string/2" data-no-tooltip="" translate="no">to_string(struct, t)</a>

      </div>

        <div class="summary-synopsis"><p>The implementation of the inspect protocol.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:types/0" data-no-tooltip="" translate="no">types()</a>

      </div>

        <div class="summary-synopsis"><p>The types accepted by the operator. Defaults to <code class="inline">[:same, :any]</code>, which is any values of the same type.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#evaluate/1" data-no-tooltip="" translate="no">evaluate(op)</a>

      </div>

        <div class="summary-synopsis"><p>Evaluate the operator with provided inputs</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#new/3" data-no-tooltip="" translate="no">new(mod, left, right)</a>

      </div>

        <div class="summary-synopsis"><p>Create a new operator. Pass the module and the left and right values</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#operator_overloads/1" data-no-tooltip="" translate="no">operator_overloads(operator)</a>

      </div>

        <div class="summary-synopsis"><p>Get type overloads for the given operator</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#operator_symbols/0" data-no-tooltip="" translate="no">operator_symbols()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#operators/0" data-no-tooltip="" translate="no">operators()</a>

      </div>

    </div>

</div>

      </section>


      <section id="callbacks" class="details-list">
        <h1 class="section-heading">Callbacks</h1>
        <div class="callbacks-list">
<section class="detail" id="c:can_return_nil?/1">

  <div class="detail-header">
    <a href="#c:can_return_nil?/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">can_return_nil?(func)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L60" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> can_return_nil?(func :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>Whether or not the operator can evaluate to nil.</p>
  </section>
</section>
<section class="detail" id="c:evaluate/1">

  <div class="detail-header">
    <a href="#c:evaluate/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">evaluate(term)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L32" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> evaluate(<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()</pre>

      </div>

<p>Evaluates the operator in Elixir</p>
  </section>
</section>
<section class="detail" id="c:evaluate_nil_inputs?/0">

  <div class="detail-header">
    <a href="#c:evaluate_nil_inputs?/0" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">evaluate_nil_inputs?()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L39" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> evaluate_nil_inputs?() :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>

<p>If <code class="inline">true</code>, will be allowed to evaluate <code class="inline">nil</code> inputs.</p><p>If <code class="inline">false</code> (the default), any <code class="inline">nil</code> inputs will cause a <code class="inline">nil</code> return.</p>
  </section>
</section>
<section class="detail" id="c:new/2">

  <div class="detail-header">
    <a href="#c:new/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">new(term, term)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L19" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> new(<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()) ::
  {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()} | {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()} | {:known, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Create a new predicate. There are various return types possible:</p><ul><li><code class="inline">{:ok, left, right}</code> - Return the left/right values of the operator</li><li><code class="inline">{:ok, operator}</code> - Return the operator itself, this or the one above are acceptable</li><li><code class="inline">{:known, boolean}</code> - If the value is already known, e.g <code class="inline">1 == 1</code></li><li><code class="inline">{:error, error}</code> - If there was an error creating the operator</li></ul>
  </section>
</section>
<section class="detail" id="c:predicate?/0">

  <div class="detail-header">
    <a href="#c:predicate?/0" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">predicate?()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L55" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> predicate?() :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()</pre>

      </div>


  </section>
</section>
<section class="detail" id="c:returns/0">

  <div class="detail-header">
    <a href="#c:returns/0" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">returns()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L51" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> returns() :: [
  :any | :same | <a href="Ash.Type.xhtml#t:t/0">Ash.Type.t</a>() | {<a href="Ash.Type.xhtml#t:t/0">Ash.Type.t</a>(), constraints :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()}
]</pre>

      </div>

<p>The types that the expression can return. Should be one entry in the list for each entry in <code class="inline">types</code>.</p>
  </section>
</section>
<section class="detail" id="c:to_string/2">

  <div class="detail-header">
    <a href="#c:to_string/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_string(struct, t)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L27" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> to_string(
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">struct</a>(),
  <a href="https://hexdocs.pm/elixir/Inspect.Opts.html#t:t/0">Inspect.Opts.t</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()</pre>

      </div>

<p>The implementation of the inspect protocol.</p><p>If not defined, it will be inferred</p>
  </section>
</section>
<section class="detail" id="c:types/0">

  <div class="detail-header">
    <a href="#c:types/0" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">types()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L44" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> types() :: [
  :any | :same | [<a href="Ash.Type.xhtml#t:t/0">Ash.Type.t</a>() | {<a href="Ash.Type.xhtml#t:t/0">Ash.Type.t</a>(), constraints :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()}]
]</pre>

      </div>

<p>The types accepted by the operator. Defaults to <code class="inline">[:same, :any]</code>, which is any values of the same type.</p>
  </section>
</section>

        </div>
      </section>

      <section id="functions" class="details-list">
        <h1 class="section-heading">Functions</h1>
        <div class="functions-list">
<section class="detail" id="evaluate/1">

  <div class="detail-header">
    <a href="#evaluate/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">evaluate(op)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L63" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Evaluate the operator with provided inputs</p>
  </section>
</section>
<section class="detail" id="new/3">

  <div class="detail-header">
    <a href="#new/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">new(mod, left, right)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L106" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Create a new operator. Pass the module and the left and right values</p>
  </section>
</section>
<section class="detail" id="operator_overloads/1">

  <div class="detail-header">
    <a href="#operator_overloads/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">operator_overloads(operator)</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L157" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

<p>Get type overloads for the given operator</p>
  </section>
</section>
<section class="detail" id="operator_symbols/0">

  <div class="detail-header">
    <a href="#operator_symbols/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">operator_symbols()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L383" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="operators/0">

  <div class="detail-header">
    <a href="#operators/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">operators()</h1>


        <a href="https://github.com/ash-project/ash/blob/v3.5.33/lib/ash/query/operator/operator.ex#L370" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">


  </section>
</section>

        </div>
      </section>


  </body>
</html>
